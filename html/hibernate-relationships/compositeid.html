<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- #BeginTemplate "../../master.dwt" -->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<!-- #BeginEditable "doctitle" -->
<TITLE>Composite Id</TITLE>
<meta content="Description of Your Site Goes Here." name="description" />
<meta content="keywords for your site here separate with commas" name="keywords" />
<!-- #EndEditable -->
<link href="../../styles/style2.css" rel="stylesheet" type="text/css" />
<style type="text/css">

.auto-style1 {
	border-width: 0px;
}
.auto-style2 {
	font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
	font-size: xx-large;
}
.auto-style3 {
	font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
}
</style>
</head>

<body>

<!-- Begin Container -->
<div id="container">
	<!-- Begin Masthead -->
	<div id="masthead">
		<a href="../../default.html">
		<img alt="My developer connection home" height="88" src="../../images/MDC-logo.gif" width="282" class="auto-style1" /></a>
		<span class="auto-style2"><strong>My Developer Connection</strong><br />
		</span><span class="auto-style3">knowledgebase for software developers</span></div>
	<!-- End Masthead -->
	<!-- Begin Page Content -->
	<div id="page_content" style="left: 0px; top: 0px; height: 569px">
		<!-- Begin Sidebar -->
		<div id="sidebar">
			<ul>
				<li><a href="../../default.html">Home</a></li>
				<li><a href="../../about_mdc.htm">About</a></li>
				<li><a href="../../bestpracticelist.htm">Best Practices</a></li>
				<li><a href="../../articlelist.htm">Articles</a></li>
				<li><a href="../../tutoriallist.htm">Tutorials</a></li>
				<li><a href="../../tipslist.htm">Tips and Samples</a></li>
				<li><a href="#">Architecture</a></li>
				<li><a href="../../faqs.htm">FAQs</a></li>
			</ul>
		</div>
		<!-- End Sidebar -->
		<!-- Begin Content -->
		<div id="content">
			<!-- #BeginEditable "content" -->
		<msnavigation border="0" cellpadding="0" cellspacing="0" width="100%"><msnavigation border="0" cellpadding="0" cellspacing="0" dir="ltr" width="100%"><tr><td valign="top" width="1%">
<p>
</p>

</td><td valign="top" width="24"></td><msnavigation valign="top"><msnavigation border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>
<p><img border="0" src="../../_borders/mdcletter.JPG" width="48" height="48"></p>

</td></tr></table><msnavigation border="0" cellpadding="0" cellspacing="0" dir="ltr" width="100%"><tr><td valign="top" width="1%">
<p>
</p>

</td><td valign="top" width="24"></td><msnavigation valign="top"><msnavigation border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>
<p><img border="0" src="../../_borders/mdcletter.JPG" width="48" height="48"></p>

</td></tr></table><msnavigation dir="ltr" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td valign="top" width="1%">
<p>
</p>

</td><td valign="top" width="24"></td><msnavigation valign="top">
    <div style="padding-top: 0; padding-bottom: 0">
      <u>14. Composite Id </u>
<br/>
<br/>
    	Definition: Composite Identifiers are PK identifiers for first-rank 
		classes that consist of more than one column.
<br/>
    
<br/>Scenario: Foo has a primary key that is of type Person. Person is made up 
		of a String name and an Address type.
<br/>
        <br/>
<table border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr bgcolor="#FFFFFF">
<td nowrap="true" bgcolor="#FFFFFF">
Person&nbsp;Foo.getId()&nbsp;&nbsp;&nbsp;//&nbsp;PK&nbsp;is&nbsp;multi-column&nbsp;mapped&nbsp;<br/>
</td>
</tr>
</table>
    
    <br/>Hibernate Mapping:
<br/>
            In Hibernate, this could be mapped as follows:
<br/>
        <br/>
<table border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr bgcolor="#FFFFFF">
<td nowrap="true" bgcolor="#FFFFFF">
&lt;class&nbsp;name=&quot;Foo&quot;&nbsp;table=&quot;foo&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;composite-id&nbsp;name=&quot;id&quot;&nbsp;class=&quot;Person&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key-property&nbsp;name=&quot;name&quot;&nbsp;type=&quot;string&quot;&nbsp;column=&quot;name&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key-many-to-one&nbsp;name=&quot;address&quot;&nbsp;class=&quot;Address&quot;&nbsp;column=&quot;addr_id&quot;/&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/composite-id&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=&quot;age&quot;&nbsp;column=&quot;age&quot;&nbsp;type=&quot;string&quot;/&gt;<br/>
&lt;/class&gt;<br/>
<br/>
&lt;class&nbsp;name=&quot;Address&quot;&nbsp;table=&quot;address&quot;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;...<br/>
&lt;/class&gt;<br/>
</td>
</tr>
</table>
        <br/>
            Foo has a composite id of type Person. This is mapped to two 
		columns: 1) Name, 2) a many-to-one relationship with the Address class.
<br/>
<br/>
            Either &lt;key-property&gt; or &lt;key-many-to-one&gt; declarations may exist 
		within a composite id.
<br/>
    
<br/>Table Schema:
        <p>
<table style="margin-left:36.0pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;mso-padding-alt:0cm 5.4pt 0cm 5.4pt" cellpadding="0" cellspacing="0" border="1">
<tr>
<td style="width:59.4pt;border:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt" valign="top" width="79" class="tablehead" colspan="3">
<p>
Foo
</p>
</td>
</tr>
<tr>
            <td style="width:59.4pt;border:solid windowtext .5pt;border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt" valign="top" width="79" class="tabledata">
<p>name</p>
</td>
            <td style="width:59.4pt;border:solid windowtext .5pt;border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt" valign="top" width="79" class="tabledata">
<p>addr_id</p>
</td>
            <td style="width:59.4pt;border:solid windowtext .5pt;border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt" valign="top" width="79" class="tabledata">
<p>age</p>
</td>
        </tr>
</table>
</p>
        <p>
<table style="margin-left:36.0pt;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;mso-padding-alt:0cm 5.4pt 0cm 5.4pt" cellpadding="0" cellspacing="0" border="1">
<tr>
<td style="width:59.4pt;border:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt" valign="top" width="79" class="tablehead" colspan="">
<p>
Address
</p>
</td>
</tr>
<tr>
            <td style="width:59.4pt;border:solid windowtext .5pt;border-top:none;mso-border-top-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt" valign="top" width="79" class="tabledata">
<p>id</p>
</td>
        </tr>
</table>
</p>
        <br/>
            So Foo has two PK-columns: addr_id and name. These are combined to 
		initialise Person instances.
<br/>
    
<br/>Bidirectionality:
<br/>
            Bidirectionality has no meaning here.
<br/>
    
    <br/>
            </div>
		<msnavigation border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

				Send mail to <a href="mailto:webmaster@mydeveloperconnection.com">
				webmaster@mydeveloperconnection.com</a> with questions or 
				comments about this web site.<br>
				&nbsp;</td></tr></table><msnavigation border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

				Send mail to <a href="mailto:webmaster@mydeveloperconnection.com">
				webmaster@mydeveloperconnection.com</a> with questions or 
				comments about this web site.<br>
				&nbsp;</td></tr></table><msnavigation border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

				Send mail to <a href="mailto:webmaster@mydeveloperconnection.com">
				webmaster@mydeveloperconnection.com</a> with questions or 
				comments about this web site.<br>
				&nbsp;</td></tr></table></td></tr></table><!-- #EndEditable --></div>
		<!-- End Content --></div>
	<!-- End Page Content -->
	<!-- Begin Footer -->
	<div id="footer">
	</div>
	<!-- End Footer --></div>
<!-- End Container -->

</body>

<!-- #EndTemplate -->

</html>
